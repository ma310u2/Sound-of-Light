/* global $ */
$(window).on('load resize', function () {
    var w = $(window).width();
    var x = 883;
    var $hli = $("li.hli");
    if (w <= x) {
        $hli.hide().off("mouseover").off("mouseout");
        $("a").removeClass("li-hover");
    } else {
        $hli.mouseover(function () {
            $("#sub-list", this).stop().slideDown();
        })
        $hli.mouseout(function () {
            $("#sub-list", this).stop().slideUp();
        });
        $(".hli > a").addClass("li-hover");
    }
    $("#sub-list").hide();
    $('#icon ').removeClass('minus');
    $('#menu-icon ').removeClass('close');
    $('#menu-icon1 ').find("p").text("＋");
});


$(function () {
    var $hli = $("li.hli");
    var $link = $("a.link");
    var $menu1 = $('#menu-icon1');
    var $menu = $("#menu-icon");
    var $subli = $("#sub-list");


    $menu.click(function () {
        $(this).toggleClass("close");
        $hli.fadeIn();
        $subli.slideUp();
        $menu1.find("p").text("＋");
    });
    
    $("#menu-icon.close").click(function () {
        $hli.fadeOut();
    });


    $link.click(function () {
        $("#icon").removeClass("minus");
        $menu.removeClass('close');
        $hli.slideUp();
        $subli.slideUp();
        $menu1.find("p").text("＋");
    });

    $("#top").click(function () {
        $("html,body").animate({
            "scrollTop": 0
        }, 1000, 'swing');
    });

    $menu.mouseover(function () {
        $menu.addClass("hover");
    })
    $menu.mouseout(function () {
        $menu.removeClass("hover");
    });

    $menu1.click(function () {
        var $icon = $(this).find('#icon');

        $subli.slideToggle();
        if ($icon.hasClass('minus')) {
            $icon.removeClass('minus');
            // 子要素の＃タグの中身をtextメソッドを用いて書き換えてください
            $(this).find("p").text("＋");
        } else {
            $icon.addClass('minus');
            // 子要素の＃タグの中身をtextメソッドを用いて書き換えてください
            $(this).find("p").text("－");
        }
    });
    $('.service').click(function () {
        var service = $('#service').offset().top;
        $('html, body').animate({
            scrollTop: service
        });
    });
});
